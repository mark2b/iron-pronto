package pronto

import (
	"testing"
)

func TestDecodeIR(t *testing.T) {
	input := "0000 006D 0022 0002 0157 00AC 0015 0015 0015 0015 0015 0040 0015 0015 0015 0015 0015 0015 0015 0015 0015 0040 0015 0015 0015 0015 0015 0040 0015 0040 0015 0040 0015 0040 0015 0015 0015 0015 0015 0015 0015 0015 0015 0015 0015 0040 0015 0040 0015 0040 0015 0015 0015 0015 0015 0040 0015 0040 0015 0040 0015 0015 0015 0015 0015 0015 0015 0040 0015 0040 0015 064B 0157 0056 0015 0E56"
	actual, _ := Decode(input)
	expected := "NEC1,device:132,subdevice:60,obc:56,hex0:e3"
	if actual.Format() == expected {
	} else {
		t.Log(actual.Format())
		t.Log(expected)
		t.Fail()
	}
}

func TestPack(t *testing.T) {
	input := "0000 006D 0022 0002 0157 00AC 0015 0015 0015 0015 0015 0040 0015 0015 0015 0015 0015 0015 0015 0015 0015 0040 0015 0015 0015 0015 0015 0040 0015 0040 0015 0040 0015 0040 0015 0015 0015 0015 0015 0015 0015 0015 0015 0015 0015 0040 0015 0040 0015 0040 0015 0015 0015 0015 0015 0040 0015 0040 0015 0040 0015 0015 0015 0015 0015 0015 0015 0040 0015 0040 0015 064B 0157 0056 0015 0E56"
	actual, _ := Pack(input)
	expected := "MgADMxcDAyMjAwMDIwNDU3MDA0dnAwNDU0xsYoBdnFh1MHFcNLGYWP2k2oOmzszECRIepmZgvqupGSAAAP//"
	if actual == expected {
	} else {
		t.Log(actual)
		t.Log(expected)
		t.Fail()
	}
}

func TestUnpack(t *testing.T) {
	input := "MgADMxcDAyMjAwMDIwNDU3MDA0dnAwNDU0xsYoBdnFh1MHFcNLGYWP2k2oOmzszECRIepmZgvqupGSAAAP//"
	actual, _ := Unpack(input)
	expected := "0000 006D 0022 0002 0157 00AC 0015 0015 0015 0015 0015 0040 0015 0015 0015 0015 0015 0015 0015 0015 0015 0040 0015 0015 0015 0015 0015 0040 0015 0040 0015 0040 0015 0040 0015 0015 0015 0015 0015 0015 0015 0015 0015 0015 0015 0040 0015 0040 0015 0040 0015 0015 0015 0015 0015 0040 0015 0040 0015 0040 0015 0015 0015 0015 0015 0015 0015 0040 0015 0040 0015 064B 0157 0056 0015 0E56"
	if actual == expected {
	} else {
		t.Log(actual)
		t.Log(expected)
		t.Fail()
	}
}
